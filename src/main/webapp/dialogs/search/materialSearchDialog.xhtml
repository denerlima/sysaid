<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
	<h:body>
		<p:dialog header="Pesquisar Material" widgetVar="dialogMaterialSearch" modal="true"  closable="false" height="500">
	    <h:panelGrid columns="4">
	    <h:outputText value="Material : " />
		<h:inputText value="#{materialBean.material.material}" required="false" label="Material" />
		<h:outputText value="Descrição : " />
		<p:inputTextarea  rows="5" cols="40" value="#{materialBean.material.descricao}" required="false" label="Material"> 
			<f:validateLength minimum="3" />
		</p:inputTextarea>
		<h:outputText value="Tipo Material : " />
		<h:selectOneMenu id="cbTipoMaterial" immediate="true" value="#{materialBean.selectedTipoMaterial.id}" >
			<f:selectItem itemValue="" itemLabel="Selecione" />
			<f:selectItems value="#{materialBean.selectItensTipoMaterial}" var="tipo" itemLabel="#{tipo.descricao}"   itemValue="#{tipo}" />				
		</h:selectOneMenu>
		<h:outputText value="Aplicação : " />
		<h:selectOneMenu id="cbAplicacao" immediate="true" value="#{materialBean.selectedAplicacao.id}" >
			<f:selectItem itemValue="" itemLabel="Selecione" />
			<f:selectItems value="#{materialBean.selectItensAplicacoes}" var="app" itemLabel="#{app.descricao}"   itemValue="#{app}" />					
		<!-- 	<p:ajax event="change" process="@this" update=":materialForm" />    -->
		</h:selectOneMenu>		
		<h:outputText value="Marca : " />
		<h:selectOneMenu id="cbMarca" immediate="true" value="#{materialBean.selectedMarca.id}" >
			<f:selectItem itemValue="" itemLabel="Selecione" />
			<f:selectItems value="#{materialBean.selectItensMarcas}" var="marca" itemLabel="#{marca.descricao}"   itemValue="#{marca}" />			
		</h:selectOneMenu>		
		<h:outputText value="Grupo : " />
		<h:selectOneMenu id="cbGrupo" immediate="true" value="#{materialBean.selectedGrupo.id}" >
			<f:selectItem itemValue="" itemLabel="Selecione" />
			<f:selectItems value="#{materialBean.selectItensGrupos}" var="grupo" itemLabel="#{grupo.descricao - grupo.grupopai}"   itemValue="#{grupo}" />		
		</h:selectOneMenu>

		<p:commandButton id="btFiltrar" value="BUSCAR" icon="ui-icon-plus" action="#{materialBean.pesquisarListaMateriais()}" update=":newInventarioForm" />
						
		<p:commandButton value="Salvar" icon="ui-icon-plus" update=":newInventarioForm"  actionListener="#{materialBean.createMaterial}" onclick="PF('dialogNew').hide();" />
		<p:commandButton value="Cancelar" icon="ui-icon-cancel" update=":newInventarioForm" actionListener="#{materialBean.resetMaterial()}" type="button"  onclick="PF('dialogNew').hide();"/>
	</h:panelGrid>
	</p:dialog>
	</h:body>
</html>